<!DOCTYPE html>
<!-- We got this from: https://github.com/brownhci/WebGazer/blob/master/www/calibration.html

This is an example HTML that shows how WebGazer can be used on a website.
This file provides the additional features:
  * An integrated, intuitive and sleek action bar with an informative "help" module accessible at all times
  * Structured 9-point calibration system
  * Accuracy measure of predictions based on calibration process
  * Video feedback regarding face positioning
  * Improved eye predictions visible to the user
Instructions on use can be found in the README repository.
-->

<html>

<head>
  <META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
  <TITLE>WebGazer Demo</TITLE>
  <!-- External stylesheets -->
  <link rel="stylesheet" type="text/css" href="../static/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha256-YLGeXaapI0/5IgZopewRJcFXomhRMlYYjugPLSyNjTY=" crossorigin="anonymous" />

  <!-- WebGazer library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/webgazer/1.0.0/webgazer.min.js"></script>
  <script async type="text/javascript" src="../static/webgazer.js"></script>
</head>
<!-- To keep track the user id we added into html   -->
<body LANG="en-US" LINK="#0000ff" DIR="LTR" id="testImage" data-id="{{ id }}">
<div class="d-flex justify-content-end">
    <p id="Accuracy">
      <a href="#">Not Yet Calibrate</a>
    </p>
    <a href="#" class="btn-sm" onclick="Restart()">Recalibrate</a>



  <button onclick="openFullscreen()" class="btn-sm">Full Screen</button>
  </div>

 <script>
    //function for full-screen mode
    // The reason we put the full screen button is that we perform our tests in full screen mode
    // and therefore the calibration should be done in full screen.
    function openFullscreen() {
        let elem = document.documentElement;
        if (elem.requestFullscreen) {
            elem.requestFullscreen();
        } else if (elem.mozRequestFullScreen) { /* Firefox */
            elem.mozRequestFullScreen();
        } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
            elem.webkitRequestFullscreen();
        } else if (elem.msRequestFullscreen) { /* IE/Edge */
            elem.msRequestFullscreen();
        }
    }
  </script>

  <canvas id="plotting_canvas" width="500" height="500" style="cursor:crosshair;"></canvas>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"
    integrity="sha256-KsRuvuRtUVvobe66OFtOQfjP8WA2SzYsmm4VPfMnxms=" crossorigin="anonymous"></script>


  <script src="../static/js/main.js"></script>
  <script src="../static/js/calibration.js"></script>
  <script src="../static/js/precision_calculation.js"></script>
  <script src="../static/js/precision_store_points.js"></script>

  <!-- Calibration points -->
  <div class="calibrationDiv">
    <input type="button" class="Calibration" id="Pt1"></input>
    <input type="button" class="Calibration" id="Pt2"></input>
    <input type="button" class="Calibration" id="Pt3"></input>
    <input type="button" class="Calibration" id="Pt4"></input>
    <input type="button" class="Calibration" id="Pt5"></input>
    <input type="button" class="Calibration" id="Pt6"></input>
    <input type="button" class="Calibration" id="Pt7"></input>
    <input type="button" class="Calibration" id="Pt8"></input>
    <input type="button" class="Calibration" id="Pt9"></input>


  </div>


  <!-- Modal -->
  <div id="helpModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-footer">

          <button id="closeBtn" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="Restart()">Calibrate</button>
        </div>
      </div>

    </div>
  </div>

  <!-- Latest compiled JavaScript -->
  <script src="../static/js/resize_canvas.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha256-CjSoeELFOcH0/uxWu6mC/Vlrc1AARqbm/jiiImDGV3s=" crossorigin="anonymous"></script>

</body>

</html>